syntax = "proto3";

option go_package = "chitChat/grpc/chitchatpb";

message JoinRequest {
  string client_id = 1;
}


message LeaveRequest {
  string client_id = 1;
}

// This is server for broadcast 
message ChatMessage {
  string sender_id = 1;
  string content = 2;
  int64 logical_time = 3;
}

message PublishRequest {
  string sender_id = 1;
  string content = 2;
}

message Ack {
  string status = 1;
}

service ChitChat {
  rpc Join(JoinRequest) returns (stream ChatMessage);
  rpc Publish(PublishRequest) returns (Ack);
  rpc Leave(LeaveRequest) returns (Ack);
}
